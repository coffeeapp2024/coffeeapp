exports.id=593,exports.ids=[593],exports.modules={14102:(e,t,r)=>{Promise.resolve().then(r.bind(r,69595))},69595:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(95344),s=r(89410),n=r(56506),o=r(3729);let l=function(){return a.jsx("div",{className:"fixed bottom-10 w-screen max-w-screen-sm z-10 shadow-sm px-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center justify-center px-3 py-2 w-fit mx-auto bg-white bg-opacity-90 rounded-3xl border-[1px] border-neutral-300 divide-neutral-300  divide-x-[1px]",children:[a.jsx(n.default,{href:"/home",children:(0,a.jsxs)("div",{className:"nav-item",children:[a.jsx(s.default,{src:"/icons/navbar/home.png",width:200,height:200,className:"nav-icon scale-[1.2]",alt:"Home Icon"}),a.jsx("span",{className:"nav-item-name",children:"Home"})]})}),a.jsx(n.default,{href:"/shop",className:"",children:(0,a.jsxs)("div",{className:"nav-item",children:[a.jsx(s.default,{src:"/icons/navbar/shop.png",width:200,height:200,className:"nav-icon",alt:"Shop Icon"}),a.jsx("span",{className:"nav-item-name",children:"Shop"})]})}),a.jsx(n.default,{href:"/",children:(0,a.jsxs)("div",{className:"nav-item",children:[a.jsx(s.default,{src:"/icons/navbar/mine.png",width:200,height:200,alt:"Mine Icon",className:"nav-icon"}),a.jsx("span",{className:"nav-item-name",children:"Mine"})]})}),a.jsx(n.default,{href:"/gift",children:(0,a.jsxs)("div",{className:"nav-item",children:[a.jsx("div",{className:"relative ",children:a.jsx(s.default,{src:"/icons/navbar/game.png",width:200,height:200,className:"nav-icon",alt:"Gift Icon"})}),a.jsx("span",{className:"nav-item-name",children:"Gift"})]})})]})})};var i=r(87521),c=r(65365),d=r(22105),u=r(1433),f=r(48414),h=r(34755);function g(e){let{setPosts:t,posts:r,name:a}=e;(0,o.useEffect)(()=>{(async()=>{try{if(!a||r.length>0)return;let e=await (0,c.YA)(a);e.length>0&&0===r.length?(t(e),console.log(`Fetched and set post images from Firestore for collection ${a}.`)):console.log(`No post images found for collection ${a}.`)}catch(e){console.error(`Error fetching post images for collection ${a}:`,e)}})()},[])}function m({children:e}){let{userData:t,userId:r,setRole:s,setUserData:n,setUserId:m}=(0,d.bL)(),{setCurrentCoin:x,currentCoin:v}=(0,d.Kk)(),{banner:y,setBanner:p}=(0,d.MB)();(0,o.useEffect)(()=>{if(!t||!r){let e=i.I8.onAuthStateChanged(async e=>{if(e&&e.email)try{let t=await (0,c.FQ)(e.uid),r=(await (0,f.QT)((0,f.JU)((0,f.hJ)(i.db,"admin"),"accounts"))).data();console.log("Fetched Account:",r);let{staff:a,manager:o,testing:l}=r,d=l?"manager":a?.includes(e.email)?"staff":o?.includes(e.email)?"manager":null;console.log("user role:",d),s(d),m(e.uid),l&&t&&(t.coin+=100,h.A.info("Testing Mode! +100 coin"),console.log("Testing Mode! +100 coin")),console.log("fetchedUserData:",t),n(t),console.log("Login successfully")}catch(e){console.error("Error fetching user data:",e)}else n(null)});return()=>e()}},[t,r,n,m,s]),(0,o.useEffect)(()=>{let{balance:e,coin:r,startTimeMine:a}=t??{};if(e&&r){let t=(0,u.g6)(e,r,a);x(t),console.log("initialCurrentCoin:",t)}},[x,t]),(0,o.useEffect)(()=>{(async()=>{try{if(!y){let e=await (0,c.Yh)();p(e)}}catch(e){console.error("Error fetching shop content:",e)}})()}),g((0,d.U)()),g((0,d.ny)()),function(){let{setVouchers:e,vouchers:t}=(0,d.Ep)();(0,o.useEffect)(()=>{t||(async()=>{try{let t=await (0,c.wY)();e(t),console.log("Voucher fetched")}catch(e){console.error("Error fetching vouchers:",e)}})()},[e,t])}(),function(){let{setCases:e,cases:t}=(0,d.Ur)();(0,o.useEffect)(()=>{t||(async()=>{try{let t=await (0,c.XX)();e(t),console.log("Cases fetched")}catch(e){console.error("Error fetching cases:",e)}})()},[e,t])}(),function(){let{setLevels:e,levels:t}=(0,d.Q6)();(0,o.useEffect)(()=>{t||(async()=>{try{let t=await (0,c.x4)();e(t),console.log("Levels fetched")}catch(e){console.error("Error fetching levels:",e)}})()},[e,t])}(),function(){let{productTags:e,setProductTags:t}=(0,d.Bv)();(0,o.useEffect)(()=>{(async()=>{try{if(!e){let e=await (0,c.FG)();t(e),console.log("Fetched product tags from Firestore:",e)}}catch(e){console.error("Error fetching product tags:",e)}})()},[e,t])}(),function(){let{products:e,setProducts:t}=(0,d.aD)();(0,o.useEffect)(()=>{(async()=>{try{if(!e){let e=await (0,c.vL)();t(e),console.log("Fetched products from Firestore:",e)}}catch(e){console.error("Error fetching products:",e)}})()},[t])}();let{minePageContent:w,setMinePageContent:b}=(0,d.dk)();(0,o.useEffect)(()=>{w||(0,f.QT)((0,f.JU)((0,f.hJ)(i.db,"contents"),"minePage")).then(e=>{let t=e.data();console.log("Fetched minePageContent:",t),b(t)})},[w,b]);let{homePageContent:N,setHomePageContent:j}=(0,d.xE)();return(0,o.useEffect)(()=>{N||(0,f.QT)((0,f.JU)((0,f.hJ)(i.db,"contents"),"homepage")).then(e=>{let t=e.data();console.log("Fetched HomePageContent:",t),j(t)})},[N,j]),(0,a.jsxs)("main",{className:"relative mx-auto w-full",children:[a.jsx(l,{}),e]})}},59467:(e,t,r)=>{"use strict";r.d(t,{lr:()=>h,KI:()=>g,d$:()=>m});var a=r(95344),s=r(3729),n=r(4664),o=r(2522),l=r(91626),i=r(32751);let c=(0,r(88720).j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-gray-950 disabled:pointer-events-none disabled:opacity-50 dark:focus-visible:ring-gray-300",{variants:{variant:{default:"bg-gray-900 text-gray-50 shadow hover:bg-gray-900/90 dark:bg-gray-50 dark:text-gray-900 dark:hover:bg-gray-50/90",destructive:"bg-red-500 text-gray-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-gray-50 dark:hover:bg-red-900/90",outline:"border border-gray-200 bg-white shadow-sm hover:bg-gray-100 hover:text-gray-900 dark:border-gray-800 dark:bg-gray-950 dark:hover:bg-gray-800 dark:hover:text-gray-50",secondary:"bg-gray-100 text-gray-900 shadow-sm hover:bg-gray-100/80 dark:bg-gray-800 dark:text-gray-50 dark:hover:bg-gray-800/80",ghost:"hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-50",link:"text-gray-900 underline-offset-4 hover:underline dark:text-gray-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...n},o)=>{let d=s?i.g7:"button";return a.jsx(d,{className:(0,l.cn)(c({variant:t,size:r,className:e})),ref:o,...n})});d.displayName="Button";let u=s.createContext(null);function f(){let e=s.useContext(u);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let h=s.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:i,children:c,...d},f)=>{let[h,g]=(0,o.Z)({...t,axis:"horizontal"===e?"x":"y"},n),[m,x]=s.useState(!1),[v,y]=s.useState(!1),p=s.useCallback(e=>{e&&(x(e.canScrollPrev()),y(e.canScrollNext()))},[]),w=s.useCallback(()=>{g?.scrollPrev()},[g]),b=s.useCallback(()=>{g?.scrollNext()},[g]),N=s.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),w()):"ArrowRight"===e.key&&(e.preventDefault(),b())},[w,b]);return s.useEffect(()=>{g&&r&&r(g)},[g,r]),s.useEffect(()=>{if(g)return p(g),g.on("reInit",p),g.on("select",p),()=>{g?.off("select",p)}},[g,p]),a.jsx(u.Provider,{value:{carouselRef:h,api:g,opts:t,orientation:e||(t?.axis==="y"?"vertical":"horizontal"),scrollPrev:w,scrollNext:b,canScrollPrev:m,canScrollNext:v},children:a.jsx("div",{ref:f,onKeyDownCapture:N,className:(0,l.cn)("relative",i),role:"region","aria-roledescription":"carousel",...d,children:c})})});h.displayName="Carousel";let g=s.forwardRef(({className:e,...t},r)=>{let{carouselRef:s,orientation:n}=f();return a.jsx("div",{ref:s,className:"overflow-hidden",children:a.jsx("div",{ref:r,className:(0,l.cn)("flex","horizontal"===n?"-ml-4":"-mt-4 flex-col",e),...t})})});g.displayName="CarouselContent";let m=s.forwardRef(({className:e,...t},r)=>{let{orientation:s}=f();return a.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:(0,l.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===s?"pl-4":"pt-4",e),...t})});m.displayName="CarouselItem",s.forwardRef(({className:e,variant:t="outline",size:r="icon",...s},o)=>{let{orientation:i,scrollPrev:c,canScrollPrev:u}=f();return(0,a.jsxs)(d,{ref:o,variant:t,size:r,className:(0,l.cn)("absolute  h-8 w-8 rounded-full","horizontal"===i?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!u,onClick:c,...s,children:[a.jsx(n.Y4O,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Previous slide"})]})}).displayName="CarouselPrevious",s.forwardRef(({className:e,variant:t="outline",size:r="icon",...s},o)=>{let{orientation:i,scrollNext:c,canScrollNext:u}=f();return(0,a.jsxs)(d,{ref:o,variant:t,size:r,className:(0,l.cn)("absolute h-8 w-8 rounded-full","horizontal"===i?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!u,onClick:c,...s,children:[a.jsx(n.LZ3,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Next slide"})]})}).displayName="CarouselNext"},1433:(e,t,r)=>{"use strict";function a(e,t,r){let a=new Date,s=r?new Date(r):null;return s&&a<s?t+e/3600:t}function s(e,t,r){let a=new Date,s=r?new Date(r):null;return s&&e&&a>s?parseFloat((t+(a.getTime()-s.getTime())/1e3/3600*e).toFixed(5)):t}r.d(t,{DE:()=>n,Dx:()=>a,g6:()=>s});let n=async(e,t)=>{let r=36e5*t,{balance:a,coin:n,startTimeMine:o,endTimeMine:l}=e;if(!a||!n)return;let i=new Date,c=l?new Date(l):null,d=c&&c>i?new Date(c.getTime()+r).toISOString():new Date(Date.now()+r).toISOString(),u=await s(a,n,o);return{...e,coin:u,startTimeMine:i.toISOString(),endTimeMine:d}}},91626:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(56815),s=r(79377);function n(...e){return(0,s.m6)((0,a.W)(e))}},41591:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>o});let a=(0,r(86843).createProxy)(String.raw`C:\Users\xinch\Desktop\claim_web_app\app\(user)\layout.tsx`),{__esModule:s,$$typeof:n}=a,o=a.default}};