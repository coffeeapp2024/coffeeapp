(()=>{var e={};e.id=660,e.ids=[660],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},96206:e=>{"use strict";e.exports=require("console")},6113:e=>{"use strict";e.exports=require("crypto")},67643:e=>{"use strict";e.exports=require("diagnostics_channel")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},15673:e=>{"use strict";e.exports=require("node:events")},84492:e=>{"use strict";e.exports=require("node:stream")},47261:e=>{"use strict";e.exports=require("node:util")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},77282:e=>{"use strict";e.exports=require("process")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},35356:e=>{"use strict";e.exports=require("stream/web")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},29830:e=>{"use strict";e.exports=require("util/types")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},3410:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=s(50482),a=s(69108),n=s(62563),i=s.n(n),l=s(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["(user)",{children:["gift",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,66456)),"C:\\Users\\xinch\\Desktop\\claim_web_app\\app\\(user)\\gift\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,41591)),"C:\\Users\\xinch\\Desktop\\claim_web_app\\app\\(user)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,40272)),"C:\\Users\\xinch\\Desktop\\claim_web_app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\xinch\\Desktop\\claim_web_app\\app\\(user)\\gift\\page.tsx"],u="/(user)/gift/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(user)/gift/page",pathname:"/gift",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6123:(e,t,s)=>{Promise.resolve().then(s.bind(s,34785))},34785:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>q});var r=s(95344),a=s(89410);s(3729);var n=s(16802),i=s(59467),l=s(90303),o=s(70654),c=s(22105),d=s(1433),u=s(65365),x=s(34755);let p=function({level:e,nextBalance:t}){let{userData:s,userId:n,setUserData:i}=(0,c.bL)(),{coin:p,startTimeMine:m,balance:f}=s??{},{icon:h,balance:g,price:b}=e,j=t!==g,v=async()=>{if(!f||!p||!s||!n||f>g){x.A.error("Can't not upgrade. Please try again.");return}let e=(0,d.g6)(f,p,m);if(e<b){x.A.error("Not enough coins to upgrade");return}let t={...s,coin:e-b,startTimeMine:new Date().toISOString(),balance:g};i(t),await (0,u.Pv)(n,t),x.A.success("Upgrade successfully")};return(0,r.jsxs)("div",{className:"bg-neutral-50 aspect-square rounded-3xl pt-2 relative ",children:[r.jsx("div",{className:"relative h-1/2 mb-3",children:r.jsx(a.default,{src:h,fill:!0,sizes:"(max-width: 640px) 100vw, 640px",alt:"level icon",className:"object-contain"})}),(0,r.jsxs)("div",{className:"flex items-center justify-center flex-col gap-y-2",children:[(0,r.jsxs)("span",{className:"font-semibold text-neutral-700",children:[g," coin per hour"]}),(0,r.jsxs)("div",{className:"flex items-center justify-center pl-2",children:[r.jsx("span",{className:"font-bold text-xl",children:b}),r.jsx(o.Z,{classname:"w-6 h-6  "})]})]}),r.jsx("button",{onClick:v,className:`absolute bottom-0 translate-y-1/2 left-1/2 -translate-x-1/2 ${j&&"grayscale pointer-events-none"}`,children:r.jsx(l.Z,{text:"Upgrade"})})]})},m=function(){let{levels:e}=(0,c.Q6)(),{userData:t}=(0,c.bL)(),{balance:s}=t??{},a=s&&e?function(e,t){let s=t.find(t=>t.balance>e);return s?s.balance:null}(s,e):null;return r.jsx(i.lr,{opts:{startIndex:1,dragFree:!0},className:"-mx-0",children:r.jsx(i.KI,{className:"-ml-0 pb-8",children:e?.map((e,t)=>r.jsx(i.d$,{className:"basis-[60%] pl-6",children:r.jsx(p,{nextBalance:a,level:e})},t))})})};var f=s(52763);let h=function(){let{userData:e}=(0,c.bL)();return(0,r.jsxs)(n.Vq,{children:[r.jsx(n.hg,{onClick:()=>{e||x.A.warning("Sign in to boost your balance")},children:(0,r.jsxs)("div",{className:"relative active:scale-95 duration-75 transition-transform",children:[r.jsx("div",{className:"shadow-lg rounded-[30px] aspect-[7/8] flex items-center justify-center overflow-hidden",children:r.jsx(a.default,{src:"/icons/rocket.gif",height:400,width:100,alt:"boost",unoptimized:!0,className:"scale-[1.6] w-full"})}),(0,r.jsxs)("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 shadow-lg",children:[r.jsx("div",{className:"bg-gradient-to-tr from-amber-300 to-amber-400 border-neutral-800 border-[1px] px-4 py-2 rounded-xl text-nowrap font-bold text-xl",children:"Boost"}),r.jsx("div",{className:"absolute bg-neutral-950 w-full h-full rounded-xl -z-10 top-[3px] left-1 "})]})]})}),(0,r.jsxs)(n.cZ,{className:"bg-transparent border-none p-0 py-8",children:[r.jsx(m,{}),r.jsx(f.Z,{})]})]})},g=function({gameCase:e}){let{userData:t,setUserData:s,userId:n}=(0,c.bL)(),{icon:i,price:p,voucherIdList:m,id:f}=e,{setOpen:h,setRandomVoucherId:g}=(0,c.OX)(),b=!m||m.length<=0||!t,j=async()=>{if(!t||!n||!f||!m||!m.length)return;let{coin:e,voucherIdList:r,balance:a,startTimeMine:i}=t;if(!e||!a)return;let l=(0,d.g6)(a,e,i);if(l<p){console.warn("Insufficient balance or voucher already owned.");return}try{let e=Math.floor(Math.random()*m.length),a=m[e];g(a),h(!0),x.A.success("Well done! You've earned  a random voucher!");let i={...t,coin:l-p,startTimeMine:new Date().toISOString(),voucherIdList:[...r||[],a]};s(i),await (0,u.Pv)(n,i)}catch(e){console.error("Error updating user data:",e)}};return(0,r.jsxs)("div",{className:"aspect-square rounded-3xl pt-2 relative bg-transparent",children:[r.jsx("div",{className:"relative h-2/3 mb-4",children:r.jsx(a.default,{src:i,fill:!0,sizes:"(max-width: 640px) 100vw, 640px",alt:"game icon",className:"object-contain"})}),(0,r.jsxs)("div",{className:"flex items-center justify-center pl-2",children:[r.jsx("span",{className:"text-white font-bold text-xl",children:p}),r.jsx(o.Z,{classname:"w-6 h-6"})]}),r.jsx("button",{onClick:j,className:`${b&&"pointer-events-none grayscale"} absolute -bottom-4 translate-y-1/2 left-1/2 -translate-x-1/2`,children:r.jsx(l.Z,{text:"Open"})})]})},b=function(){let{open:e,randomVoucherId:t,setOpen:s}=(0,c.OX)(),{vouchers:i}=(0,c.Ep)(),{imageURL:l,info:o}=i?.find(e=>e.id===t)??{};return(0,r.jsxs)(n.Vq,{open:e,onOpenChange:()=>{s(!e)},children:[r.jsx(n.hg,{}),(0,r.jsxs)(n.cZ,{className:"bg-transparent border-none shadow-none px-6",children:[(0,r.jsxs)("div",{className:"relative bg-neutral-50 w-full aspect-[3/2] rounded-3xl py-4 px-4 h-fit  flex items-center justify-between flex-col ",children:[r.jsx("div",{className:"overflow-hidden",children:l&&r.jsx(a.default,{src:l,alt:"level icon",width:700,height:300,className:"object-contain"})}),r.jsx("span",{className:"font-semibold text-neutral-700 text-xl",children:o})]}),r.jsx(n.GG,{className:"w-0 h-0"})]})]})};function j(){let{cases:e}=(0,c.Ur)();return(0,r.jsxs)("div",{children:[r.jsx(i.lr,{opts:{startIndex:1,dragFree:!0},className:"-mx-0",children:r.jsx(i.KI,{className:"-ml-0 pb-12",children:e?.map((e,t)=>r.jsx(i.d$,{className:"basis-[60%] pl-6",children:r.jsx(g,{gameCase:e})},t))})}),r.jsx(b,{})]})}let v=function(){let{userData:e}=(0,c.bL)();return(0,r.jsxs)(n.Vq,{children:[r.jsx(n.hg,{className:"col-span-2",onClick:()=>{e||x.A.warning("Sign in to play game")},children:(0,r.jsxs)("div",{className:"relative active:scale-95 duration-75 transition-transform",children:[(0,r.jsxs)("div",{className:"shadow-lg rounded-[30px] aspect-[7/6] flex items-center justify-center overflow-hidden",children:[r.jsx(a.default,{src:"/icons/game.gif",height:400,width:100,alt:"boost",unoptimized:!0,className:"scale-[1.6] w-full"}),r.jsx(a.default,{src:"/icons/cases.gif",height:100,width:100,alt:"boost",unoptimized:!0,className:"scale-[0.6] -translate-y-10 absolute w-full"})]}),r.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2",children:r.jsx(l.Z,{text:"Open"})})]})}),(0,r.jsxs)(n.cZ,{className:"bg-transparent border-none p-0 py-8",children:[r.jsx(j,{}),r.jsx(f.Z,{})]})]})},y=function({voucher:e}){let{userData:t,setUserData:s,userId:n}=(0,c.bL)(),{imageURL:i,info:p,price:m,id:f}=e,h=async()=>{if(!t||!n||!f)return;let{coin:e,voucherIdList:r,balance:a,startTimeMine:i}=t;if(!e||!a)return;let l=(0,d.g6)(a,e,i);if(l<m){x.A.warning("Not enough coins to purchase voucher.");return}try{let e=[...r||[],f],a={...t,coin:l-m,startTimeMine:new Date().toISOString(),voucherIdList:e};s(a),await (0,u.Pv)(n,a),x.A.success("Voucher purchased successfully!")}catch(e){console.error("Error updating user data:",e)}};return(0,r.jsxs)("div",{className:"bg-neutral-50 aspect-[8/7]   rounded-3xl pt-3 px-3 relative ",children:[r.jsx("div",{className:"relative h-1/2 mb-4",children:r.jsx(a.default,{src:i,fill:!0,sizes:"(max-width: 640px) 100vw, 640px",alt:"level icon",className:"object-contain"})}),(0,r.jsxs)("div",{className:"flex items-center justify-center flex-col gap-y-4",children:[r.jsx("span",{className:"font-semibold text-neutral-700 text-xl",children:p}),(0,r.jsxs)("div",{className:"flex items-center justify-center pl-2",children:[r.jsx("span",{className:"font-bold text-2xl",children:m}),r.jsx(o.Z,{classname:"w-6 h-6"})]})]}),r.jsx("button",{className:`${!t&&"pointer-events-none grayscale "} absolute bottom-0 translate-y-1/2 left-1/2 -translate-x-1/2`,onClick:h,children:r.jsx(l.Z,{text:"Buy"})})]})},N=function(){let{vouchers:e}=(0,c.Ep)();return r.jsx(i.lr,{opts:{startIndex:1,dragFree:!0},className:"-mx-0",children:r.jsx(i.KI,{className:"-ml-0 pb-8",children:e?.map((e,t)=>r.jsx(i.d$,{className:"basis-[75%] pl-4",children:r.jsx(y,{voucher:e})},t))})})},w=function(){let{userData:e}=(0,c.bL)();return(0,r.jsxs)(n.Vq,{children:[r.jsx(n.hg,{onClick:()=>{e||x.A.warning("Sign in to buy voucher")},children:(0,r.jsxs)("div",{style:{backgroundImage:"url(/img/img9.jpg)",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},className:"shadow-lg rounded-[30px] aspect-[7/8] pt-4 px-4 relative active:scale-[98%] duration-75 transition-transform",children:[r.jsx("div",{className:"relative w-full aspect-square animate-zoom-out",children:r.jsx(a.default,{src:"/icons/coupon.png",fill:!0,sizes:"(max-width: 640px) 100vw, 640px",alt:"coupon"})}),r.jsx("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2",children:r.jsx(l.Z,{text:"Buy"})})]})}),(0,r.jsxs)(n.cZ,{className:"bg-transparent border-none p-0 py-8",children:[r.jsx(N,{}),r.jsx(f.Z,{})]})]})},q=function(){return r.jsx("div",{style:{backgroundImage:'url("/bg/bg-scan.jpg")',backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},className:"bg-neutral-700 min-h-screen px-4 pt-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 pb-40",children:[r.jsx(v,{}),r.jsx(h,{}),r.jsx(w,{})]})})}},90303:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(95344);s(3729);let a=function({text:e}){return r.jsx("div",{className:"relative z-10 active:scale-95 transition-transform",children:(0,r.jsxs)("div",{className:"bg-gradient-to-tr from-amber-300 to-amber-400 h-11 px-4 flex items-center justify-center rounded-xl text-xl text-neutral-800 font-bold text-nowrap border-[1px] border-neutral-800 -z-10 shadow-lg",children:[e,r.jsx("div",{className:"absolute w-full h-full -z-20 top-[3px] left-1 rounded-xl bg-neutral-800"})]})})}},52763:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(95344),a=s(3729),n=s(16802);let i=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}),l=function(){return r.jsx(n.GG,{className:"absolute -bottom-24 left-1/2 -translate-x-1/2 text-white rounded-full bg-none border-[2px] p-1",children:r.jsx("div",{children:r.jsx(i,{className:"w-7 h-7 "})})})}},70654:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(95344),a=s(89410);s(3729);let n=function({classname:e}){return r.jsx("div",{className:`relative ${e}`,children:r.jsx(a.default,{src:"/icons/coin.png",fill:!0,alt:"Coin Icon"})})}},16802:(e,t,s)=>{"use strict";s.d(t,{GG:()=>d,Vq:()=>l,cZ:()=>x,hg:()=>o});var r=s(95344),a=s(3729),n=s(91025),i=s(91626);let l=n.fC,o=n.xz,c=n.h_,d=n.x8,u=a.forwardRef(({className:e,...t},s)=>r.jsx(n.aV,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));u.displayName=n.aV.displayName;let x=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(c,{children:[r.jsx(u,{}),(0,r.jsxs)(n.VY,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-gray-800 dark:bg-gray-950",e),...s,children:[t,r.jsx(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500 dark:ring-offset-gray-950 dark:focus:ring-gray-300 dark:data-[state=open]:bg-gray-800 dark:data-[state=open]:text-gray-400"})]})]}));x.displayName=n.VY.displayName,a.forwardRef(({className:e,...t},s)=>r.jsx(n.Dx,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...t})).displayName=n.Dx.displayName,a.forwardRef(({className:e,...t},s)=>r.jsx(n.dk,{ref:s,className:(0,i.cn)("text-sm text-gray-500 dark:text-gray-400",e),...t})).displayName=n.dk.displayName},66456:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(86843).createProxy)(String.raw`C:\Users\xinch\Desktop\claim_web_app\app\(user)\gift\page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[225,792,418,124,701,25,797,593],()=>s(3410));module.exports=r})();