(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[186],{161:function(e,t,r){Promise.resolve().then(r.bind(r,611))},611:function(e,t,r){"use strict";r.r(t);var n=r(7437),a=r(6885),l=r(8515);r(2265);var s=r(6288),o=r(8884);t.default=()=>{let{role:e}=(0,o.bL)(),t=async e=>{let[t,r,n]=e.split("-"),l=parseInt(n);await (0,a.vV)(t,r,l),s.A.success("Voucher deleted successfully")};return(0,n.jsx)("div",{className:"".concat(e?"":"pointer-events-none grayscale"),children:(0,n.jsx)(l.Z,{buttonName:"Scan Me!",handleOnClick:()=>{},handleQrCode:t})})}},9396:function(e,t,r){"use strict";var n=r(7437);r(2265),t.Z=function(e){let{text:t}=e;return(0,n.jsx)("div",{className:"relative z-10 active:scale-95 transition-transform",children:(0,n.jsxs)("div",{className:"bg-gradient-to-tr from-amber-300 to-amber-400 h-11 px-4 flex items-center justify-center rounded-xl text-xl text-neutral-800 font-bold text-nowrap border-[1px] border-neutral-800 -z-10 shadow-lg",children:[t,(0,n.jsx)("div",{className:"absolute w-full h-full -z-20 top-[3px] left-1 rounded-xl bg-neutral-800"})]})})}},8515:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(7437),a=r(2265),l=r(6434),s=r(2706),o=r(9396),i=r(6288),c=r(3018),d=r.n(c);let u=async e=>new Promise((t,r)=>{let n=new FileReader;n.onload=async e=>{if(e.target){var n;let a=new Image;a.src=(null===(n=e.target.result)||void 0===n?void 0:n.toString())||"",a.onload=()=>{let e=document.createElement("canvas"),n=e.getContext("2d");if(!n){r("Could not create canvas context.");return}e.width=a.width,e.height=a.height,n.drawImage(a,0,0,a.width,a.height);let l=n.getImageData(0,0,e.width,e.height),s=d()(l.data,l.width,l.height);s?t(s.data):t(null)}}},n.onerror=e=>{r(e)},n.readAsDataURL(e)});var h=r(954),f=function(e){let{handleResult:t}=e,r=(0,a.useRef)(null),l=async e=>{var r;let n=null===(r=e.target.files)||void 0===r?void 0:r[0];if(n)try{let e=await u(n);e?t(e):i.A.error("Not found QR code in the image. Please try again.")}catch(e){console.error("Error scanning QR code:",e)}},s=async()=>{r.current&&r.current.click()};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{className:"absolute bg-neutral-900 p-2 rounded-full -bottom-16 left-1/2 -translate-x-1/2",onClick:s,children:(0,n.jsx)(h.Z,{className:"text-white w-5 h-5"})}),(0,n.jsx)("input",{ref:r,type:"file",accept:"image/*",onChange:l,style:{display:"none"}})]})},g=e=>{let{handleQrCode:t,handleOnClick:r,buttonName:c}=e,[d,u]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null),x=async e=>{g(e),u(!1);try{await t(e)}catch(e){i.A.error("Error handling scan QR Code. Please try again."),console.error("Error handling scan result:",e)}};return(0,n.jsxs)(s.Vq,{open:d,onOpenChange:()=>{u(e=>!e)},children:[(0,n.jsx)(s.hg,{onClick:r,children:(0,n.jsx)(o.Z,{text:c})}),(0,n.jsxs)(s.cZ,{className:"bg-transparent border-none shadow-none px-4",children:[(0,n.jsx)("div",{className:"relative rounded-3xl border-[3px] border-red-800 overflow-hidden",children:(0,n.jsx)("div",{className:"overflow-hidden",children:(0,n.jsx)(l.ZY,{onResult:x,onError:e=>{console.error("Scanner error:",null==e?void 0:e.message),i.A.error(null==e?void 0:e.message),u(!1)},enabled:d,components:{tracker:!0}})})}),(0,n.jsx)(f,{handleResult:x})]})]})}},954:function(e,t,r){"use strict";var n=r(2265);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))});t.Z=a}},function(e){e.O(0,[358,124,476,664,199,288,387,449,772,971,69,744],function(){return e(e.s=161)}),_N_E=e.O()}]);