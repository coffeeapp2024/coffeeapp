(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[660],{243:function(e,t,r){Promise.resolve().then(r.bind(r,3930))},3930:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var a=r(7437),s=r(703);r(2265);var n=r(2706),l=r(318),i=r(9396),o=r(1966),c=r(8884),d=r(3053),u=r(6885),x=r(6288),f=function(e){let{level:t,nextBalance:r}=e,{userData:n,userId:l,setUserData:f}=(0,c.bL)(),{coin:h,startTimeMine:m,balance:g}=null!=n?n:{},{icon:p,balance:b,price:v}=t,j=r!==b,w=async()=>{if(!g||!h||!n||!l||g>b){x.A.error("Can't not upgrade. Please try again.");return}let e=(0,d.g6)(g,h,m);if(e<v){x.A.error("Not enough coins to upgrade");return}let t={...n,coin:e-v,startTimeMine:new Date().toISOString(),balance:b};f(t),await (0,u.Pv)(l,t),x.A.success("Upgrade successfully")};return(0,a.jsxs)("div",{className:"bg-neutral-50 aspect-square rounded-3xl pt-2 relative ",children:[(0,a.jsx)("div",{className:"relative h-1/2 mb-3",children:(0,a.jsx)(s.default,{src:p,fill:!0,sizes:"(max-width: 640px) 100vw, 640px",alt:"level icon",className:"object-contain"})}),(0,a.jsxs)("div",{className:"flex items-center justify-center flex-col gap-y-2",children:[(0,a.jsxs)("span",{className:"font-semibold text-neutral-700",children:[b," coin per hour"]}),(0,a.jsxs)("div",{className:"flex items-center justify-center pl-2",children:[(0,a.jsx)("span",{className:"font-bold text-xl",children:v}),(0,a.jsx)(o.Z,{classname:"w-6 h-6  "})]})]}),(0,a.jsx)("button",{onClick:w,className:"absolute bottom-0 translate-y-1/2 left-1/2 -translate-x-1/2 ".concat(j&&"grayscale pointer-events-none"),children:(0,a.jsx)(i.Z,{text:"Upgrade"})})]})},h=function(){let{levels:e}=(0,c.Q6)(),{userData:t}=(0,c.bL)(),{balance:r}=null!=t?t:{},s=r&&e?function(e,t){let r=t.find(t=>t.balance>e);return r?r.balance:null}(r,e):null;return(0,a.jsx)(l.lr,{opts:{startIndex:1,dragFree:!0},className:"-mx-0",children:(0,a.jsx)(l.KI,{className:"-ml-0 pb-8",children:null==e?void 0:e.map((e,t)=>(0,a.jsx)(l.d$,{className:"basis-[60%] pl-6",children:(0,a.jsx)(f,{nextBalance:s,level:e})},t))})})},m=r(5144),g=function(){let{userData:e}=(0,c.bL)();return(0,a.jsxs)(n.Vq,{children:[(0,a.jsx)(n.hg,{onClick:()=>{e||x.A.warning("Sign in to boost your balance")},children:(0,a.jsxs)("div",{className:"relative active:scale-95 duration-75 transition-transform",children:[(0,a.jsx)("div",{className:"shadow-lg rounded-[30px] aspect-[7/8] flex items-center justify-center overflow-hidden",children:(0,a.jsx)(s.default,{src:"/icons/rocket.gif",height:400,width:100,alt:"boost",unoptimized:!0,className:"scale-[1.6] w-full"})}),(0,a.jsxs)("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 shadow-lg",children:[(0,a.jsx)("div",{className:"bg-gradient-to-tr from-amber-300 to-amber-400 border-neutral-800 border-[1px] px-4 py-2 rounded-xl text-nowrap font-bold text-xl",children:"Boost"}),(0,a.jsx)("div",{className:"absolute bg-neutral-950 w-full h-full rounded-xl -z-10 top-[3px] left-1 "})]})]})}),(0,a.jsxs)(n.cZ,{className:"bg-transparent border-none p-0 py-8",children:[(0,a.jsx)(h,{}),(0,a.jsx)(m.Z,{})]})]})},p=function(e){let{gameCase:t}=e,{userData:r,setUserData:n,userId:l}=(0,c.bL)(),{icon:f,price:h,voucherIdList:m,id:g}=t,{setOpen:p,setRandomVoucherId:b}=(0,c.OX)(),v=!m||m.length<=0||!r,j=async()=>{if(!r||!l||!g||!m||!m.length)return;let{coin:e,voucherIdList:t,balance:a,startTimeMine:s}=r;if(!e||!a)return;let i=(0,d.g6)(a,e,s);if(i<h){console.warn("Insufficient balance or voucher already owned.");return}try{let e=Math.floor(Math.random()*m.length),a=m[e];b(a),p(!0),x.A.success("Well done! You've earned  a random voucher!");let s={...r,coin:i-h,startTimeMine:new Date().toISOString(),voucherIdList:[...t||[],a]};n(s),await (0,u.Pv)(l,s)}catch(e){console.error("Error updating user data:",e)}};return(0,a.jsxs)("div",{className:"aspect-square rounded-3xl pt-2 relative bg-transparent",children:[(0,a.jsx)("div",{className:"relative h-2/3 mb-4",children:(0,a.jsx)(s.default,{src:f,fill:!0,sizes:"(max-width: 640px) 100vw, 640px",alt:"game icon",className:"object-contain"})}),(0,a.jsxs)("div",{className:"flex items-center justify-center pl-2",children:[(0,a.jsx)("span",{className:"text-white font-bold text-xl",children:h}),(0,a.jsx)(o.Z,{classname:"w-6 h-6"})]}),(0,a.jsx)("button",{onClick:j,className:"".concat(v&&"pointer-events-none grayscale"," absolute -bottom-4 translate-y-1/2 left-1/2 -translate-x-1/2"),children:(0,a.jsx)(i.Z,{text:"Open"})})]})},b=function(){let{open:e,randomVoucherId:t,setOpen:r}=(0,c.OX)(),{vouchers:l}=(0,c.Ep)(),i=null==l?void 0:l.find(e=>e.id===t),{imageURL:o,info:d}=null!=i?i:{};return(0,a.jsxs)(n.Vq,{open:e,onOpenChange:()=>{r(!e)},children:[(0,a.jsx)(n.hg,{}),(0,a.jsxs)(n.cZ,{className:"bg-transparent border-none shadow-none px-6",children:[(0,a.jsxs)("div",{className:"relative bg-neutral-50 w-full aspect-[3/2] rounded-3xl py-4 px-4 h-fit  flex items-center justify-between flex-col ",children:[(0,a.jsx)("div",{className:"overflow-hidden",children:o&&(0,a.jsx)(s.default,{src:o,alt:"level icon",width:700,height:300,className:"object-contain"})}),(0,a.jsx)("span",{className:"font-semibold text-neutral-700 text-xl",children:d})]}),(0,a.jsx)(n.GG,{className:"w-0 h-0"})]})]})};function v(){let{cases:e}=(0,c.Ur)();return(0,a.jsxs)("div",{children:[(0,a.jsx)(l.lr,{opts:{startIndex:1,dragFree:!0},className:"-mx-0",children:(0,a.jsx)(l.KI,{className:"-ml-0 pb-12",children:null==e?void 0:e.map((e,t)=>(0,a.jsx)(l.d$,{className:"basis-[60%] pl-6",children:(0,a.jsx)(p,{gameCase:e})},t))})}),(0,a.jsx)(b,{})]})}var j=function(){let{userData:e}=(0,c.bL)();return(0,a.jsxs)(n.Vq,{children:[(0,a.jsx)(n.hg,{className:"col-span-2",onClick:()=>{e||x.A.warning("Sign in to play game")},children:(0,a.jsxs)("div",{className:"relative active:scale-95 duration-75 transition-transform",children:[(0,a.jsxs)("div",{className:"shadow-lg rounded-[30px] aspect-[7/6] flex items-center justify-center overflow-hidden",children:[(0,a.jsx)(s.default,{src:"/icons/game.gif",height:400,width:100,alt:"boost",unoptimized:!0,className:"scale-[1.6] w-full"}),(0,a.jsx)(s.default,{src:"/icons/cases.gif",height:100,width:100,alt:"boost",unoptimized:!0,className:"scale-[0.6] -translate-y-10 absolute w-full"})]}),(0,a.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2",children:(0,a.jsx)(i.Z,{text:"Open"})})]})}),(0,a.jsxs)(n.cZ,{className:"bg-transparent border-none p-0 py-8",children:[(0,a.jsx)(v,{}),(0,a.jsx)(m.Z,{})]})]})},w=function(e){let{voucher:t}=e,{userData:r,setUserData:n,userId:l}=(0,c.bL)(),{imageURL:f,info:h,price:m,id:g}=t,p=async()=>{if(!r||!l||!g)return;let{coin:e,voucherIdList:t,balance:a,startTimeMine:s}=r;if(!e||!a)return;let i=(0,d.g6)(a,e,s);if(i<m){x.A.warning("Not enough coins to purchase voucher.");return}try{let e=[...t||[],g],a={...r,coin:i-m,startTimeMine:new Date().toISOString(),voucherIdList:e};n(a),await (0,u.Pv)(l,a),x.A.success("Voucher purchased successfully!")}catch(e){console.error("Error updating user data:",e)}};return(0,a.jsxs)("div",{className:"bg-neutral-50 aspect-[8/7]   rounded-3xl pt-3 px-3 relative ",children:[(0,a.jsx)("div",{className:"relative h-1/2 mb-4",children:(0,a.jsx)(s.default,{src:f,fill:!0,sizes:"(max-width: 640px) 100vw, 640px",alt:"level icon",className:"object-contain"})}),(0,a.jsxs)("div",{className:"flex items-center justify-center flex-col gap-y-4",children:[(0,a.jsx)("span",{className:"font-semibold text-neutral-700 text-xl",children:h}),(0,a.jsxs)("div",{className:"flex items-center justify-center pl-2",children:[(0,a.jsx)("span",{className:"font-bold text-2xl",children:m}),(0,a.jsx)(o.Z,{classname:"w-6 h-6"})]})]}),(0,a.jsx)("button",{className:"".concat(!r&&"pointer-events-none grayscale "," absolute bottom-0 translate-y-1/2 left-1/2 -translate-x-1/2"),onClick:p,children:(0,a.jsx)(i.Z,{text:"Buy"})})]})},y=function(){let{vouchers:e}=(0,c.Ep)();return(0,a.jsx)(l.lr,{opts:{startIndex:1,dragFree:!0},className:"-mx-0",children:(0,a.jsx)(l.KI,{className:"-ml-0 pb-8",children:null==e?void 0:e.map((e,t)=>(0,a.jsx)(l.d$,{className:"basis-[75%] pl-4",children:(0,a.jsx)(w,{voucher:e})},t))})})},N=function(){let{userData:e}=(0,c.bL)();return(0,a.jsxs)(n.Vq,{children:[(0,a.jsx)(n.hg,{onClick:()=>{e||x.A.warning("Sign in to buy voucher")},children:(0,a.jsxs)("div",{style:{backgroundImage:"url(/img/img9.jpg)",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},className:"shadow-lg rounded-[30px] aspect-[7/8] pt-4 px-4 relative active:scale-[98%] duration-75 transition-transform",children:[(0,a.jsx)("div",{className:"relative w-full aspect-square animate-zoom-out",children:(0,a.jsx)(s.default,{src:"/icons/coupon.png",fill:!0,sizes:"(max-width: 640px) 100vw, 640px",alt:"coupon"})}),(0,a.jsx)("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2",children:(0,a.jsx)(i.Z,{text:"Buy"})})]})}),(0,a.jsxs)(n.cZ,{className:"bg-transparent border-none p-0 py-8",children:[(0,a.jsx)(y,{}),(0,a.jsx)(m.Z,{})]})]})},k=function(){return(0,a.jsx)("div",{style:{backgroundImage:'url("/bg/bg-scan.jpg")',backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},className:"bg-neutral-700 min-h-screen px-4 pt-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 pb-40",children:[(0,a.jsx)(j,{}),(0,a.jsx)(g,{}),(0,a.jsx)(N,{})]})})}},9396:function(e,t,r){"use strict";var a=r(7437);r(2265),t.Z=function(e){let{text:t}=e;return(0,a.jsx)("div",{className:"relative z-10 active:scale-95 transition-transform",children:(0,a.jsxs)("div",{className:"bg-gradient-to-tr from-amber-300 to-amber-400 h-11 px-4 flex items-center justify-center rounded-xl text-xl text-neutral-800 font-bold text-nowrap border-[1px] border-neutral-800 -z-10 shadow-lg",children:[t,(0,a.jsx)("div",{className:"absolute w-full h-full -z-20 top-[3px] left-1 rounded-xl bg-neutral-800"})]})})}},5144:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(7437),s=r(2265),n=r(2706);let l=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});var i=function(){return(0,a.jsx)(n.GG,{className:"absolute -bottom-24 left-1/2 -translate-x-1/2 text-white rounded-full bg-none border-[2px] p-1",children:(0,a.jsx)("div",{children:(0,a.jsx)(l,{className:"w-7 h-7 "})})})}},1966:function(e,t,r){"use strict";var a=r(7437),s=r(703);r(2265),t.Z=function(e){let{classname:t}=e;return(0,a.jsx)("div",{className:"relative ".concat(t),children:(0,a.jsx)(s.default,{src:"/icons/coin.png",fill:!0,alt:"Coin Icon"})})}},318:function(e,t,r){"use strict";r.d(t,{lr:function(){return f},KI:function(){return h},d$:function(){return m}});var a=r(7437),s=r(2265),n=r(2177),l=r(8062),i=r(1657),o=r(9143);let c=(0,r(7742).j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-gray-950 disabled:pointer-events-none disabled:opacity-50 dark:focus-visible:ring-gray-300",{variants:{variant:{default:"bg-gray-900 text-gray-50 shadow hover:bg-gray-900/90 dark:bg-gray-50 dark:text-gray-900 dark:hover:bg-gray-50/90",destructive:"bg-red-500 text-gray-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-gray-50 dark:hover:bg-red-900/90",outline:"border border-gray-200 bg-white shadow-sm hover:bg-gray-100 hover:text-gray-900 dark:border-gray-800 dark:bg-gray-950 dark:hover:bg-gray-800 dark:hover:text-gray-50",secondary:"bg-gray-100 text-gray-900 shadow-sm hover:bg-gray-100/80 dark:bg-gray-800 dark:text-gray-50 dark:hover:bg-gray-800/80",ghost:"hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-50",link:"text-gray-900 underline-offset-4 hover:underline dark:text-gray-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:l=!1,...d}=e,u=l?o.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(c({variant:s,size:n,className:r})),ref:t,...d})});d.displayName="Button";let u=s.createContext(null);function x(){let e=s.useContext(u);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let f=s.forwardRef((e,t)=>{let{orientation:r="horizontal",opts:n,setApi:o,plugins:c,className:d,children:x,...f}=e,[h,m]=(0,l.Z)({...n,axis:"horizontal"===r?"x":"y"},c),[g,p]=s.useState(!1),[b,v]=s.useState(!1),j=s.useCallback(e=>{e&&(p(e.canScrollPrev()),v(e.canScrollNext()))},[]),w=s.useCallback(()=>{null==m||m.scrollPrev()},[m]),y=s.useCallback(()=>{null==m||m.scrollNext()},[m]),N=s.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),w()):"ArrowRight"===e.key&&(e.preventDefault(),y())},[w,y]);return s.useEffect(()=>{m&&o&&o(m)},[m,o]),s.useEffect(()=>{if(m)return j(m),m.on("reInit",j),m.on("select",j),()=>{null==m||m.off("select",j)}},[m,j]),(0,a.jsx)(u.Provider,{value:{carouselRef:h,api:m,opts:n,orientation:r||((null==n?void 0:n.axis)==="y"?"vertical":"horizontal"),scrollPrev:w,scrollNext:y,canScrollPrev:g,canScrollNext:b},children:(0,a.jsx)("div",{ref:t,onKeyDownCapture:N,className:(0,i.cn)("relative",d),role:"region","aria-roledescription":"carousel",...f,children:x})})});f.displayName="Carousel";let h=s.forwardRef((e,t)=>{let{className:r,...s}=e,{carouselRef:n,orientation:l}=x();return(0,a.jsx)("div",{ref:n,className:"overflow-hidden",children:(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex","horizontal"===l?"-ml-4":"-mt-4 flex-col",r),...s})})});h.displayName="CarouselContent";let m=s.forwardRef((e,t)=>{let{className:r,...s}=e,{orientation:n}=x();return(0,a.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,i.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===n?"pl-4":"pt-4",r),...s})});m.displayName="CarouselItem",s.forwardRef((e,t)=>{let{className:r,variant:s="outline",size:l="icon",...o}=e,{orientation:c,scrollPrev:u,canScrollPrev:f}=x();return(0,a.jsxs)(d,{ref:t,variant:s,size:l,className:(0,i.cn)("absolute  h-8 w-8 rounded-full","horizontal"===c?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",r),disabled:!f,onClick:u,...o,children:[(0,a.jsx)(n.Y4O,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Previous slide"})]})}).displayName="CarouselPrevious",s.forwardRef((e,t)=>{let{className:r,variant:s="outline",size:l="icon",...o}=e,{orientation:c,scrollNext:u,canScrollNext:f}=x();return(0,a.jsxs)(d,{ref:t,variant:s,size:l,className:(0,i.cn)("absolute h-8 w-8 rounded-full","horizontal"===c?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",r),disabled:!f,onClick:u,...o,children:[(0,a.jsx)(n.LZ3,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Next slide"})]})}).displayName="CarouselNext"},3053:function(e,t,r){"use strict";function a(e,t,r){let a=new Date,s=r?new Date(r):null;return s&&a<s?t+e/3600:t}function s(e,t,r){let a=new Date,s=r?new Date(r):null;return s&&e&&a>s?parseFloat((t+(a.getTime()-s.getTime())/1e3/3600*e).toFixed(5)):t}r.d(t,{DE:function(){return n},Dx:function(){return a},g6:function(){return s}});let n=async(e,t)=>{let r=36e5*t,{balance:a,coin:n,startTimeMine:l,endTimeMine:i}=e;if(!a||!n)return;let o=new Date,c=i?new Date(i):null,d=c&&c>o?new Date(c.getTime()+r).toISOString():new Date(Date.now()+r).toISOString(),u=await s(a,n,l);return{...e,coin:u,startTimeMine:o.toISOString(),endTimeMine:d}}}},function(e){e.O(0,[358,124,310,199,288,387,703,449,160,772,971,69,744],function(){return e(e.s=243)}),_N_E=e.O()}]);